name: Test cURL
on: 
  push:
jobs:
  curl:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Run python
      run: pip install flask
    
    - name: Public IP
      id: ip
      uses: haythem/public-ip@v1.2

    - name: Print Public IP
      run: |
        echo ${{ steps.ip.outputs.ipv4 }}
        echo ${{ steps.ip.outputs.ipv6 }}
    
    - name: Run script
      run: cd .github/workflows
          | python script.py
    
    - name: Test cURL
      uses: wei/curl@v1
      with:
        args: http://${{ steps.ip.outputs.ipv6 }}:5000
          
   
